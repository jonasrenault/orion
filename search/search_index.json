{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Orion - Automated Target Recognition of Military Vehicles","text":"<p>\ud83d\udef0\ufe0f A deep-learning\u2013based system for automated detection and classification of military vehicles in video data. Orion integrates visual recognition, motion analysis, and tracking modules to provide real-time situational awareness in complex environments.</p>"},{"location":"classes/","title":"Classes","text":"<p>Orion uses four broad classes of military vehicles that our model can discriminate:</p> <ol> <li>Armoured Fighting Vehicle (AFV)</li> <li>Armoured Personnel Carrier (APC)</li> <li>Military Engineering Vehicle (MEV)</li> <li>Light Armoured Vehicle (LAV)</li> </ol>"},{"location":"classes/#class-repartition","title":"Class repartition","text":"<p>The AFV class is overrepresented in Orion's dataset since most open source image datasets only label military vehicles as tanks.</p>"},{"location":"datasets/","title":"Datasets","text":"<p>Orion uses images from open source object-detection datasets to create a dataset of military vehicles and format it correctly for YOLO training. This page describes the various datasets used by Orion.</p>"},{"location":"datasets/#imagenet","title":"ImageNet","text":"<p>The first dataset Orion uses is <code>ImageNet21k</code>. The <code>ImageNet21k</code> dataset is available from the image-net website. You need to register and be granted access to download the images. We use the Winter 21 version since it gives the option of downloading the images for a single synset (a class) and we're only interested in images of specific classes (military vehicles).</p> <ul> <li>The processed version of ImageNet21k is available on the ImageNet21k repository.</li> <li>The class ids and names are available in this issue.</li> </ul> <p>Orion provides a <code>search</code> function to search ImageNet class names for a given query.</p> <pre><code>def search(\n    keywords: list[str],\n    dir: Path = settings.ORION_HOME_DIR / \"imagenet\",\n):\n    \"\"\"\n    Search image net classes matching the given keywords.\n\n    Args:\n        keywords (list[str]): List of keywords to search for.\n        dir (Path, optional): directory where files will be downloaded.\n            Defaults to ORION_HOME_DIR / \"imagenet\".\n    \"\"\"\n</code></pre> <p>Note</p> <p>The <code>search</code> function will download the list of class names and ids in the dataset <code>dir</code> if they are not already present.</p> <p>Orion also provides a convenience <code>download</code> function to download images and annotations for a specific class id.</p> <pre><code>def download(\n    ids: list[str],\n    dir: Path = settings.ORION_HOME_DIR / \"imagenet\",\n):\n    \"\"\"\n    Download ImageNet images and annotations for the given class ids.\n\n    Args:\n        ids (list[str]): the class ids to download.\n        dir (Path, optional): the dataset directory.\n            Defaults to settings.ORION_HOME_DIR / \"imagenet\".\n    \"\"\"\n</code></pre> <p>Note</p> <p>The <code>download</code> function will only download images for classes that actually have object detection annotations (a lot of classes in the ImageNet21k dataset do not have annotations).</p> <p>Info</p> <p>Orion uses 378 annotated images from the ImageNet dataset, coming from the <code>n04389033</code> class (tank, army tank, armored combat vehicle, armoured combat vehicle), which are all mapped to the <code>AFV</code> class.`</p>"},{"location":"datasets/#openimage","title":"OpenImage","text":"<p>The second dataset Orion uses is Open Images which contains images with <code>Tank</code> detection labels. Images from OpenImages are downloaded and managed with fiftyone.</p> <p>Info</p> <p>Orion uses 1246 annotated images from the OpenImage dataset which are all mapped to the <code>AFV</code> class.</p>"},{"location":"datasets/#russian-military-annotated-dataset","title":"Russian Military annotated dataset","text":"<p>Another dataset Orion uses is the Russian Military vehicles annotated dataset provided by Tuomo Hiippala from Digital Geography Lab on Roboflow. It contains 1042 annotated images of russing military vehicles with 10 classes which we map to either the <code>AFC</code> or the <code>APC</code> class.</p> <pre><code>LABEL_MAPPING = {\n    \"bm-21\": \"AFV\",\n    \"t-80\": \"AFV\",\n    \"t-64\": \"AFV\",\n    \"t-72\": \"AFV\",\n    \"bmp-1\": \"AFV\",\n    \"bmp-2\": \"AFV\",\n    \"bmd-2\": \"AFV\",\n    \"btr-70\": \"APC\",\n    \"btr-80\": \"APC\",\n    \"mt-lb\": \"APC\",\n}\n</code></pre> <p>Orion provides a <code>download</code> function to download the images and annotations from this dataset and structure the directory to be imported into a <code>fiftyone</code> dataset.</p> <pre><code>def download(dir: Path = settings.ORION_HOME_DIR / \"roboflow\"):\n    \"\"\"\n    Downlad images and annotations from the russian military annotated dataset\n    on roboflow and format them to be imported into a fo.Dataset.\n\n    Args:\n        dir (Path, optional): the dataset dir.\n            Defaults to settings.ORION_HOME_DIR / \"roboflow\".\n    \"\"\"\n</code></pre> <p>Info</p> <p>Orion uses 1042 annotated images from the Russian Military vehicles dataset which are mapped to the <code>AFV</code> or <code>APC</code> class.</p>"},{"location":"datasets/#google-images","title":"Google Images","text":"<p>To improve our training dataset, we also scraped images of military vehicles from Google Image and annotated them by hand. This sample dataset is available for download from Orion's github repository and contains 669 images of vehicles from all four classes (<code>AFV</code>, <code>APC</code>, <code>MEV</code> and <code>LAV</code>).</p> <p>Info</p> <p>Orion uses 669 annotated images scraped from Google Images for all four classes.</p>"},{"location":"datasets/#the-search-2","title":"The Search 2","text":"<p>The The Search_2 consist of 44 high-resolution digital color images of different complex natural scenes, with each scene (image) containing a single military vehicle that serves as a search target. This dataset is not used by Orion for training; it is used instead for evaluating the models on realistic long range automatic target recognition (ATR) samples.</p>"},{"location":"datasets/#command-line","title":"Command-line","text":"<p>Orion provides a CLI command to download and setup a dataset of annotated military vehicles for training and development of automatic target recognition models. The <code>prepare</code> command will download images from the ImageNet, OpenImages, Russian military and Google Images sources and combine them into a single dataset on disk.</p> <p>The <code>prepare</code> command takes as an option the directory where all the source images will be downloaded and where the full combined dataset will be saved (by default, <code>~/.cache/orion</code>).</p> <pre><code>orion prepare --help\n\n Usage: orion prepare [OPTIONS]\n\n Prepare a dataset of annotated military vehicle images.\n\n\u256d\u2500 Options \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e\n\u2502 --dir   -d      DIRECTORY  Orion home directory. [default: ~/.cache/orion]                              \u2502\n\u2502 --ids           TEXT       List of class ids to download. [default: n04389033]                          \u2502\n\u2502 --help                     Show this message and exit.                                                  \u2502\n\u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f\n</code></pre>"},{"location":"models/","title":"Models","text":"<p>Orion provides YOLO12 models fine-tuned on a custom dataset of military vehicles with 4 classes.</p> Model size<sup>(pixels) params<sup>(M) orion12n 640 2.6 orion12s 640 9.3 orion12m 640 20.2 orion12l 640 26.4"},{"location":"models/#training-results","title":"Training results","text":""},{"location":"models/#orion12n","title":"Orion12n","text":""},{"location":"models/#orion12s","title":"Orion12s","text":""},{"location":"models/#orion12m","title":"Orion12m","text":""},{"location":"models/#orion12l","title":"Orion12l","text":""},{"location":"models/#usage","title":"Usage","text":"<p>To use one of Orion's models, download it from the links above and then use one of Orion's CLI commands:</p>"},{"location":"models/#detect-military-vehicles-in-images","title":"Detect military vehicles in images","text":"<p>The <code>predict</code> command will use the model to detect military vehicles in images.</p> <pre><code>orion predict --help\n\n Usage: orion predict [OPTIONS] MODEL_PATH DATA\n\n Run predictions on a set of images using the given model.\n\n\u256d\u2500 Arguments \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e\n\u2502 *    model_path      PATH  model path. [required]                                                                                   \u2502\n\u2502 *    data            PATH  data to make predictions on. [required]                                                                  \u2502\n\u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f\n\u256d\u2500 Options \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e\n\u2502 --save       -s                               save annotated images.                                                                \u2502\n\u2502 --save-txt       --no-save-txt                save detection results in a txt file. [default: save-txt]                             \u2502\n\u2502 --save-conf      --no-save-conf               save confidence score for each detection. [default: save-conf]                        \u2502\n\u2502 --output     -o                    DIRECTORY  save directory. [default: Path.cwd() /runs/predict]                                   \u2502\n\u2502 --help                                        Show this message and exit.                                                           \u2502\n\u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f\n</code></pre> <p>For example, if you downloaded the orion12m.pt model file into your current directory, and want to use it to detect military vehicles in an image, run</p> <pre><code>orion predict ./orion12m.pt resources/test/afvs.jpg -s\n</code></pre> <p>Tip</p> <p>The <code>predict</code> command with the <code>-s</code> option will save the annotated image.</p> <p></p>"},{"location":"models/#track-military-vehicles-in-videos","title":"Track military vehicles in videos","text":"<p>The <code>track</code> command will use the model to track military vehicles in videos.</p> <pre><code>orion track --help\n\n Usage: orion track [OPTIONS] MODEL_PATH DATA\n\n Track tanks in a video using a YOLO model and specified tracker.\n\n\u256d\u2500 Arguments \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e\n\u2502 *    model_path      PATH  model path. [required]                                                                                   \u2502\n\u2502 *    data            PATH  input video. [required]                                                                                  \u2502\n\u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f\n\u256d\u2500 Options \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e\n\u2502 --conf     -c      FLOAT      confidence threshold for detections. [default: 0.5]                                                   \u2502\n\u2502 --tracker  -t      TEXT       tracker configuration file. [default: botsort.yaml]                                                   \u2502\n\u2502 --output   -o      DIRECTORY  save directory. [default: Path.cwd() /runs/track]                                                     \u2502\n\u2502 --help                        Show this message and exit.                                                                           \u2502\n\u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f\n</code></pre> <p>For example, if you downloaded the orion12m.pt model file into your current directory, and want to use it to track military vehicles in a video, run</p> <pre><code>orion track ./orion12m.pt resources/test/mev1.mp4\n</code></pre> <p></p>"}]}